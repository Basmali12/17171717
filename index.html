<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙƒÙŠ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± | Key Invest VIP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap');

        :root {
            --primary: #4a148c;
            --accent: #ff6f00;
            --bg: #f8f9fa;
            --text: #333;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--bg);
            margin: 0;
            padding-bottom: 100px; /* Ù…Ø³Ø§ÙØ© Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ© */
            color: var(--text);
            overflow-x: hidden;
        }

        /* Ø£Ù‡Ù… ÙƒÙˆØ¯ Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„ØªÙƒ: Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tab-content {
            display: none !important; /* Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„Ø¥Ø®ÙØ§Ø¡ */
            animation: fadeIn 0.5s;
        }

        /* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù†Ø´Ø· ÙÙ‚Ø· */
        .tab-content.active {
            display: block !important; /* Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„Ø¥Ø¸Ù‡Ø§Ø± */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .app-header {
            background: linear-gradient(to right, var(--primary), #7c43bd);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            border-radius: 0 0 25px 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }
        .avatar-circle {
            width: 40px; height: 40px; background: rgba(255,255,255,0.2);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            margin-left: 10px;
        }
        .user-info-header { display: flex; align-items: center; gap: 10px; }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .balance-card {
            background: linear-gradient(135deg, #2c3e50, #000);
            color: white; padding: 25px; border-radius: 20px;
            text-align: center; margin: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .plans-container, .requests-list { padding: 0 20px; }
        
        .plan-box {
            background: white; border-radius: 15px; padding: 20px;
            margin-bottom: 20px; border: 1px solid #eee;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .plan-box.featured-plan { border: 2px solid var(--accent); }
        
        .plan-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
        .plan-header i { font-size: 1.5rem; color: var(--primary); }
        
        button {
            background: var(--primary); color: white; border: none;
            width: 100%; padding: 12px; border-radius: 10px; margin-top: 15px;
            font-family: inherit; cursor: pointer;
        }
        button:disabled { background: #ccc; }

        /* Ø§Ù„Ù…ØªØ¬Ø± */
        .store-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 20px; }
        .store-item { background: white; padding: 15px; border-radius: 15px; text-align: center; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        .store-img { height: 80px; width: 100%; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-bottom: 10px; }
        .store-img.asia { background: #d32f2f; }
        .store-img.zain { background: #000; }
        .store-img.pubg { background: #ff9800; }
        .store-img.ludo { background: purple; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ - Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø¹Ø¯Ù… Ø§Ù„Ø¶ØºØ· */
        .bottom-nav {
            position: fixed; 
            bottom: 0; 
            left: 0; 
            width: 100%; 
            background: white;
            display: flex; 
            justify-content: space-around; 
            padding: 10px 0;
            box-shadow: 0 -5px 10px rgba(0,0,0,0.05); 
            z-index: 9999; /* Ø±Ù‚Ù… Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø£Ù†Ù‡ ÙÙˆÙ‚ ÙƒÙ„ Ø´ÙŠØ¡ */
        }
        .nav-item { text-align: center; color: #bbb; cursor: pointer; flex: 1; }
        .nav-item.active { color: var(--primary); }
        .nav-item i { font-size: 1.3rem; margin-bottom: 3px; display: block; }
        .floating-home {
            background: var(--primary); width: 55px; height: 55px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; color: white;
            position: absolute; top: -30px; left: 50%; transform: translateX(-50%);
            box-shadow: 0 5px 10px rgba(74, 20, 140, 0.4); border: 4px solid var(--bg);
        }

        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 10000; display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            justify-content: center; align-items: center;
        }
        .modal-content { background: white; padding: 30px; width: 85%; border-radius: 20px; text-align: center; }
        .modal-content input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        
        /* Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ù„Ø¨ */
        .req-item { padding: 15px; background: white; margin-bottom: 10px; border-radius: 10px; display: flex; justify-content: space-between; border-right: 4px solid #ddd; }
        .req-item.pending { border-right-color: orange; }
        .req-item.active { border-right-color: green; }
    </style>
</head>
<body>

    <div id="loginModal" class="modal-overlay">
        <div class="modal-content">
            <div style="font-size:3rem;">ğŸ’</div>
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <input type="text" id="regName" placeholder="Ø§Ù„Ø§Ø³Ù…">
            <input type="text" id="regPhone" placeholder="Ø§Ù„Ù‡Ø§ØªÙ">
            <button onclick="registerUser()">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <div class="app-header">
        <div class="user-info-header">
            <div class="avatar-circle"><i class="fas fa-user"></i></div>
            <div>
                <span id="headerName" style="font-weight:bold;">Ø¶ÙŠÙ</span>
                <span style="font-size:0.7rem; display:block; opacity:0.8;">ID: <span id="userId">---</span></span>
            </div>
        </div>
    </div>

    <main class="content-area">
        
        <section id="home" class="tab-content active">
            <div class="balance-card">
                <h3>Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…ØªØ§Ø­Ø©</h3>
                <h1 id="walletBalance">0 IQD</h1>
            </div>

            <div class="plans-container">
                <h2 style="color:var(--primary)">Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</h2>
                <div class="plan-box">
                    <div class="plan-header"><i class="fas fa-coins"></i><h3>Ø¨Ø§Ù‚Ø© 100,000</h3></div>
                    <button onclick="requestPlan('starter', 100000)">Ø·Ù„Ø¨ Ø§Ø´ØªØ±Ø§Ùƒ</button>
                </div>
                <div class="plan-box featured-plan">
                    <div class="plan-header"><i class="fas fa-gem"></i><h3>Ø¨Ø§Ù‚Ø© 500,000</h3></div>
                    <button onclick="requestPlan('pro', 500000)">Ø·Ù„Ø¨ Ø§Ø´ØªØ±Ø§Ùƒ</button>
                </div>
                <div class="plan-box">
                    <div class="plan-header"><i class="fas fa-crown"></i><h3>Ø¨Ø§Ù‚Ø© 1,000,000</h3></div>
                    <button onclick="requestPlan('vip', 1000000)">Ø·Ù„Ø¨ Ø§Ø´ØªØ±Ø§Ùƒ</button>
                </div>
            </div>
        </section>

        <section id="store" class="tab-content">
            <div style="text-align:center; padding:20px;">
                <h2>Ø§Ù„Ù…ØªØ¬Ø±</h2>
                <div class="store-grid">
                    <div class="store-item"><div class="store-img asia">AsiaCell</div><button disabled>Ù‚Ø±ÙŠØ¨Ø§Ù‹</button></div>
                    <div class="store-item"><div class="store-img zain">Zain</div><button disabled>Ù‚Ø±ÙŠØ¨Ø§Ù‹</button></div>
                    <div class="store-item"><div class="store-img pubg">PUBG</div><button disabled>Ù‚Ø±ÙŠØ¨Ø§Ù‹</button></div>
                    <div class="store-item"><div class="store-img ludo">Ludo</div><button disabled>Ù‚Ø±ÙŠØ¨Ø§Ù‹</button></div>
                </div>
            </div>
        </section>

        <section id="team" class="tab-content">
            <div style="padding:20px;">
                <h2>ÙØ±ÙŠÙ‚ÙŠ</h2>
                <div class="plan-box">
                    <p>Ù…Ø³ØªÙˆØ§Ùƒ: <strong>Ø¹Ø¶Ùˆ</strong></p>
                    <p>Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ø±Ø¨Ø§Ø­: <strong>50%</strong></p>
                    <hr>
                    <p style="text-align:center; color:#999;">Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ© Ø®Ø§Øµ Ø¨Ø±Ø¤Ø³Ø§Ø¡ Ø§Ù„ÙØ±Ù‚ ÙÙ‚Ø·</p>
                </div>
            </div>
        </section>

        <section id="agents" class="tab-content">
            <div style="text-align:center; padding:50px 20px;">
                <i class="fas fa-map-marked-alt" style="font-size:4rem; color:#ddd;"></i>
                <h2>Ù‚Ø±ÙŠØ¨Ø§Ù‹.. Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡</h2>
                <p>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠÙ† Ù‚ÙŠØ¯ Ø§Ù„ØªØ¬Ù‡ÙŠØ²</p>
            </div>
        </section>

        <section id="profile" class="tab-content">
            <div style="padding:20px;">
                <h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
                <div class="requests-list">
                    <h3>Ø³Ø¬Ù„ Ø·Ù„Ø¨Ø§ØªÙŠ</h3>
                    <ul id="myPlansList" style="list-style:none; padding:0;"></ul>
                </div>
                <button onclick="logout()" style="background:red; margin-top:20px;">Ø®Ø±ÙˆØ¬</button>
            </div>
        </section>

    </main>

    <nav class="bottom-nav">
        <div class="nav-item" onclick="switchTab('profile')">
            <i class="fas fa-user-clock"></i> <span>Ø·Ù„Ø¨Ø§ØªÙŠ</span>
        </div>
        <div class="nav-item" onclick="switchTab('team')">
            <i class="fas fa-users"></i> <span>Ø§Ù„ÙØ±ÙŠÙ‚</span>
        </div>
        <div class="nav-item active center-btn" onclick="switchTab('home')">
            <div class="floating-home"><i class="fas fa-home"></i></div>
        </div>
        <div class="nav-item" onclick="switchTab('store')">
            <i class="fas fa-shopping-cart"></i> <span>Ø§Ù„Ù…ØªØ¬Ø±</span>
        </div>
        <div class="nav-item" onclick="switchTab('agents')">
            <i class="fas fa-map-marker-alt"></i> <span>Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡</span>
        </div>
    </nav>

    <script>
        // === ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ===
        let userData = JSON.parse(localStorage.getItem('keyInvestUser_v4')) || {
            isRegistered: false,
            name: '',
            id: 'ID' + Math.floor(Math.random() * 100000),
            balance: 0,
            plans: []
        };

        // Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', () => {
            checkLogin();
            updateUI();
        });

        // === Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (Ø§Ù„Ø£Ù‡Ù…) ===
        function switchTab(tabId) {
            console.log("Switching to:", tabId); // Ù„Ù„ØªØ¬Ø±Ø¨Ø©

            // 1. Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => {
                tab.style.display = 'none'; // Ø¶Ù…Ø§Ù† Ø§Ù„Ø¥Ø®ÙØ§Ø¡ Ø¹Ø¨Ø± JS Ø£ÙŠØ¶Ø§Ù‹
                tab.classList.remove('active');
            });

            // 2. Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.style.display = 'block';
                selectedTab.classList.add('active');
            }

            // 3. ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        // === Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù ===
        function checkLogin() {
            const modal = document.getElementById('loginModal');
            if (!userData.isRegistered) {
                modal.style.display = 'flex';
            } else {
                modal.style.display = 'none';
                document.getElementById('headerName').innerText = userData.name;
                document.getElementById('userId').innerText = userData.id;
            }
        }

        function registerUser() {
            const name = document.getElementById('regName').value;
            if (name.length < 3) return alert('Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ø§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹');
            userData.isRegistered = true;
            userData.name = name;
            saveData();
            checkLogin();
        }

        function requestPlan(type, price) {
            if(confirm('ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØŸ Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ù…Ù† Ø§Ù„Ø£Ø¯Ù…Ù†')) {
                userData.plans.push({
                    type: type,
                    status: 'pending',
                    date: new Date().toLocaleDateString()
                });
                saveData();
                updateUI();
                alert('ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
                switchTab('profile'); // Ù†Ù‚Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„
            }
        }

        function updateUI() {
            const list = document.getElementById('myPlansList');
            list.innerHTML = '';
            if(userData.plans.length === 0) list.innerHTML = '<li>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</li>';
            
            userData.plans.forEach(plan => {
                let statusTxt = plan.status === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© â³' : 'Ù†Ø´Ø· âœ…';
                let styleClass = plan.status === 'pending' ? 'pending' : 'active';
                list.innerHTML += `
                    <li class="req-item ${styleClass}">
                        <span>${plan.type}</span>
                        <span>${statusTxt}</span>
                    </li>
                `;
            });
        }

        function logout() {
            localStorage.removeItem('keyInvestUser_v4');
            location.reload();
        }

        function saveData() {
            localStorage.setItem('keyInvestUser_v4', JSON.stringify(userData));
        }
    </script>
</body>
</html>
